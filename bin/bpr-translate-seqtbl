#!/usr/local/bin/swipl -q -t main -s

:- use_module(bioprolog(bioseq)).

main:-
        current_prolog_flag(argv, Argv),
        writeln(argv=Argv),
        append(_, [--|Args], Argv),
        setof(Arg,(member(Arg,Args),
                   tr(Arg)),_),
        halt.

tr(F):-
        writeln(f=F),
        read_seqtable(F,H),
        setof(ID,(in_table(H,[id(ID),residues(S)],_),
                  translate_dna(S,AA),
                  writeln(ID/AA)),
              _).
        

